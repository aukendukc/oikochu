(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{2794:function(e,r,t){Promise.resolve().then(t.bind(t,7150))},7150:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return c}});var s=t(7437),a=t(2265),l=t(6463),d=t(666),n=t(7807),i=t(6504);function c(){let{user:e,loading:r,signOut:t}=(0,d.a)(),{theme:c,toggleTheme:o}=(0,n.F)(),[h,x]=(0,a.useState)(!1),m=(0,l.useRouter)();(0,a.useEffect)(()=>{r||e||m.push("/")},[e,r,m]);let u=async()=>{await t(),m.push("/")};return r?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col",children:[(0,s.jsx)(i.Z,{}),(0,s.jsx)("div",{className:"flex-1 flex justify-center items-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 dark:border-blue-400"})})]}):e?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col",children:[(0,s.jsx)(i.Z,{}),(0,s.jsxs)("div",{className:"container mx-auto p-4 flex-1",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"設定"}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"p-4 border-b dark:border-gray-700",children:(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"ユーザー設定"})}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-md font-semibold mb-2 text-gray-900 dark:text-white",children:"アカウント情報"}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded",children:[(0,s.jsxs)("p",{className:"dark:text-white",children:[(0,s.jsx)("span",{className:"font-medium",children:"名前:"})," ",e.displayName||"未設定"]}),(0,s.jsxs)("p",{className:"dark:text-white",children:[(0,s.jsx)("span",{className:"font-medium",children:"メール:"})," ",e.email]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-md font-semibold mb-2 text-gray-900 dark:text-white",children:"アプリケーション設定"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"autoSave",className:"mr-2",defaultChecked:!0}),(0,s.jsx)("label",{htmlFor:"autoSave",className:"text-gray-900 dark:text-white",children:"会話録音後に自動で保存する"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"darkMode",className:"mr-2",checked:"dark"===c,onChange:o}),(0,s.jsx)("label",{htmlFor:"darkMode",className:"text-gray-900 dark:text-white",children:"ダークモード"})]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-md font-semibold mb-2 text-gray-900 dark:text-white",children:"デバイス設定"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"このアプリケーションはマイクへのアクセス許可が必要です。ブラウザの設定でマイクへのアクセスを許可してください。"}),(0,s.jsx)("button",{className:"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-white px-4 py-2 rounded",onClick:()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(()=>alert("マイクへのアクセスが許可されています")).catch(()=>alert("マイクへのアクセスが許可されていません"))},children:"マイク設定を確認"})]}),(0,s.jsx)("div",{className:"border-t dark:border-gray-700 pt-4 mt-4",children:(0,s.jsx)("button",{className:"bg-red-500 hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700 text-white px-4 py-2 rounded",onClick:()=>x(!0),children:"ログアウト"})})]})]})]}),h&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 w-full max-w-md",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"ログアウトの確認"}),(0,s.jsx)("p",{className:"mb-4 text-gray-800 dark:text-gray-200",children:"ログアウトしますか？"}),(0,s.jsxs)("div",{className:"flex justify-end",children:[(0,s.jsx)("button",{className:"mr-2 bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-white font-bold py-2 px-4 rounded",onClick:()=>x(!1),children:"キャンセル"}),(0,s.jsx)("button",{className:"bg-red-500 hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700 text-black dark:text-white font-bold py-2 px-4 rounded",onClick:u,children:"ログアウト"})]})]})})]}):null}},6504:function(e,r,t){"use strict";t.d(r,{Z:function(){return m}});var s=t(7437),a=t(2265),l=t(7138),d=t(6463),n=t(666),i=t(7807),c=t(2472),o=t(5574),h=t(4258),x=t(9896);function m(){let{user:e,loading:r,signOut:t}=(0,n.a)(),{theme:m}=(0,i.F)(),u=(0,d.useRouter)(),[g,b]=(0,a.useState)(!1),f=async()=>{await t(),u.push("/")};return(0,s.jsxs)("nav",{className:"bg-blue-500 dark:bg-gray-800 text-white shadow-md",children:[(0,s.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,s.jsx)(l.default,{href:"/",className:"font-bold text-xl",children:"ホームレス支援"})})}),!r&&e&&(0,s.jsxs)("div",{className:"hidden md:flex items-center space-x-1",children:[(0,s.jsxs)(l.default,{href:"/",className:"py-2 px-3 hover:bg-blue-600 dark:hover:bg-gray-700 rounded flex items-center",children:[(0,s.jsx)(c.Z,{size:18,className:"mr-1"}),"マップ"]}),(0,s.jsxs)(l.default,{href:"/people",className:"py-2 px-3 hover:bg-blue-600 dark:hover:bg-gray-700 rounded flex items-center",children:[(0,s.jsx)(o.Z,{size:18,className:"mr-1"}),"リスト"]}),(0,s.jsxs)(l.default,{href:"/settings",className:"py-2 px-3 hover:bg-blue-600 dark:hover:bg-gray-700 rounded flex items-center",children:[(0,s.jsx)(h.Z,{size:18,className:"mr-1"}),"設定"]}),(0,s.jsxs)("button",{onClick:f,className:"py-2 px-3 hover:bg-blue-600 dark:hover:bg-gray-700 rounded flex items-center",children:[(0,s.jsx)(x.Z,{size:18,className:"mr-1"}),"ログアウト"]})]}),!r&&e&&(0,s.jsx)("div",{className:"md:hidden flex items-center",children:(0,s.jsx)("button",{onClick:()=>b(!g),className:"inline-flex items-center justify-center p-2 rounded-md text-white hover:bg-blue-600 dark:hover:bg-gray-700 focus:outline-none",children:(0,s.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g?(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),g&&!r&&e&&(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-blue-500 dark:bg-gray-800",children:[(0,s.jsxs)(l.default,{href:"/",className:"block px-3 py-2 rounded text-white hover:bg-blue-600 dark:hover:bg-gray-700 flex items-center",onClick:()=>b(!1),children:[(0,s.jsx)(c.Z,{size:18,className:"mr-2"}),"マップ"]}),(0,s.jsxs)(l.default,{href:"/people",className:"block px-3 py-2 rounded text-white hover:bg-blue-600 dark:hover:bg-gray-700 flex items-center",onClick:()=>b(!1),children:[(0,s.jsx)(o.Z,{size:18,className:"mr-2"}),"リスト"]}),(0,s.jsxs)(l.default,{href:"/settings",className:"block px-3 py-2 rounded text-white hover:bg-blue-600 dark:hover:bg-gray-700 flex items-center",onClick:()=>b(!1),children:[(0,s.jsx)(h.Z,{size:18,className:"mr-2"}),"設定"]}),(0,s.jsxs)("button",{onClick:()=>{b(!1),f()},className:"block w-full text-left px-3 py-2 rounded text-white hover:bg-blue-600 dark:hover:bg-gray-700 flex items-center",children:[(0,s.jsx)(x.Z,{size:18,className:"mr-2"}),"ログアウト"]})]})})]})}},8490:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return i},V:function(){return n}});var s=t(7437),a=t(2265),l=t(5735),d=t(2574);let n=(0,a.createContext)({user:null,loading:!0,signInWithGoogle:async()=>{},signOut:async()=>{}});function i(e){let{children:r}=e,[t,i]=(0,a.useState)(null),[c,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=d.I8.onAuthStateChanged(e=>{i(e),o(!1)});return()=>e()},[]);let h=async()=>{let e=new l.hJ;try{await (0,l.rh)(d.I8,e)}catch(e){console.error("Error signing in with Google",e)}},x=async()=>{try{await (0,l.w7)(d.I8)}catch(e){console.error("Error signing out",e)}};return(0,s.jsx)(n.Provider,{value:{user:t,loading:c,signInWithGoogle:h,signOut:x},children:r})}},7807:function(e,r,t){"use strict";t.d(r,{F:function(){return n},ThemeProvider:function(){return d}});var s=t(7437),a=t(2265);let l=(0,a.createContext)(void 0),d=e=>{let{children:r}=e,[t,d]=(0,a.useState)("light");return(0,a.useEffect)(()=>{let e=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches;e?d(e):r&&d("dark")},[]),(0,a.useEffect)(()=>{"dark"===t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),(0,s.jsx)(l.Provider,{value:{theme:t,toggleTheme:()=>{d(e=>"light"===e?"dark":"light")}},children:r})},n=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},2574:function(e,r,t){"use strict";t.d(r,{I8:function(){return i},db:function(){return c},tO:function(){return o}});var s=t(5236),a=t(5735),l=t(9842),d=t(9854);let n=(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)({apiKey:"AIzaSyB5y7Hl1TkxMnT6m1YCwFXONgvy6yUKhbo",authDomain:"oikos-4bf07.firebaseapp.com",projectId:"oikos-4bf07",storageBucket:"oikos-4bf07.firebasestorage.app",messagingSenderId:"1081771625262",appId:"1:1081771625262:web:863be88a259d66a88688bf"}),i=(0,a.v0)(n),c=(0,l.ad)(n),o=(0,d.cF)(n)},666:function(e,r,t){"use strict";t.d(r,{a:function(){return l}});var s=t(2265),a=t(8490);let l=()=>(0,s.useContext)(a.V)}},function(e){e.O(0,[358,139,141,252,971,23,744],function(){return e(e.s=2794)}),_N_E=e.O()}]);